{
  "dialogue": {
    "hailPrompt": "hail",
    "nodes": [
      {
        "id": "assignment",
        "message": "I was sent here to test a new magical staff my master has been working on, but I dropped it when I was {prompt:ambushed} in the library."
      },
      {
        "id": "nether_mage_guild",
        "message": "The Nether Mage's Guild studies the Fire and Shadow Magics associated with the Nether dimension. We have guild halls all over the place, I'm surprised you haven't heard of us!"
      },
      {
        "id": "intro",
        "message": "Hello, I'm {context:entity_name}. The {prompt:nether_mage_guild} sent me out here to research the appearance of this castle. However, I was overwhelmed by zombies and found shelter in this cave. Perhaps you can help me finish {prompt:assignment}."
      },
      {
        "effects": [
          {
            "type": "mknpc:start_quest_chain"
          }
        ],
        "id": "ambushed",
        "message": "{context:player_name} will you retrieve my staff from {mk_quest_notable:mkultra:intro_castle#0#mkultra:imperial_magus}?"
      }
    ],
    "prompts": [
      {
        "id": "assignment",
        "message": "my assignment",
        "responses": [
          {
            "responseNodeId": "assignment"
          }
        ],
        "suggestedText": "I will help with your assignment.",
        "triggerPhrase": "assignment"
      },
      {
        "id": "nether_mage_guild",
        "message": "guild",
        "responses": [
          {
            "responseNodeId": "nether_mage_guild"
          }
        ],
        "suggestedText": "What guild?",
        "triggerPhrase": "guild"
      },
      {
        "id": "ambushed",
        "message": "ambushed",
        "responses": [
          {
            "responseNodeId": "ambushed"
          },
          {
            "conditions": [
              {
                "allowRepeat": false,
                "dialogueConditionType": "mknpc:can_start_chain_condition",
                "invert": false
              }
            ],
            "responseNodeId": "ambushed"
          }
        ],
        "suggestedText": "You were ambushed?",
        "triggerPhrase": "ambushed"
      },
      {
        "id": "hail",
        "message": "",
        "responses": [
          {
            "conditions": [
              {
                "allowRepeat": false,
                "dialogueConditionType": "mknpc:can_start_chain_condition",
                "invert": false
              }
            ],
            "responseNodeId": "intro"
          }
        ],
        "suggestedText": "",
        "triggerPhrase": ""
      }
    ]
  },
  "questMode": 0,
  "questName": "{\"text\":\"Helping the Nether Mage\"}",
  "quests": [
    {
      "autoComplete": true,
      "description": "{\"text\":\"The Nether Mage Initiate wants you to retrieve a staff from the library.\"}",
      "objectives": [
        {
          "attributes": {
            "chance": 1.0,
            "count": 1,
            "npcDefinition": "mkultra:imperial_magus",
            "objectiveName": "loot_staff",
            "structure": "mkultra:intro_castle",
            "structureIndex": 0
          },
          "description": [],
          "itemDescription": "{\"text\":\"The Magic Staff\"}",
          "objectiveType": "mknpc:objective.quest_loot_notable"
        }
      ],
      "questName": "get_staff",
      "rewards": []
    },
    {
      "autoComplete": true,
      "description": "{\"text\":\"Return to the Initiate with the Magic Staff\"}",
      "objectives": [
        {
          "attributes": {
            "npcDefinition": "mkultra:nether_mage_initiate",
            "objectiveName": "return_to_initiate",
            "structure": "mkultra:intro_castle",
            "structureIndex": 0
          },
          "description": [
            "{\"text\":\"Talk to the Initiate again.\"}"
          ],
          "dialogue": {
            "hailPrompt": "hail",
            "nodes": [
              {
                "effects": [
                  {
                    "type": "mknpc:objective_completion",
                    "objectiveName": "return_to_initiate",
                    "questName": "return_to_initiate"
                  }
                ],
                "id": "kill_zombies",
                "message": "Great, return to me when you've delivered 10 killing blows with the fireball from the staff."
              },
              {
                "id": "return_to_initiate_hail",
                "message": "Thanks for retrieving this staff, you really saved my ass. Will you do one more thing for me? My assignment was to use this staff to {prompt:kill_zombies} here to test its efficacy."
              }
            ],
            "prompts": [
              {
                "id": "kill_zombies",
                "message": "kill some of the zombies",
                "responses": [
                  {
                    "responseNodeId": "kill_zombies"
                  }
                ],
                "suggestedText": "I will kill some of the zombies.",
                "triggerPhrase": "kill some of the zombies"
              },
              {
                "id": "hail",
                "message": "",
                "responses": [
                  {
                    "responseNodeId": "return_to_initiate_hail"
                  }
                ],
                "suggestedText": "",
                "triggerPhrase": ""
              }
            ]
          },
          "objectiveType": "mknpc:objective.talk_to_npc"
        }
      ],
      "questName": "return_to_initiate",
      "rewards": [
        {
          "attributes": {
            "loot_slot": "mkweapons:main_hand",
            "loot_tier": "mkultra:burning_staff"
          },
          "description": "{\"translate\":\"mkultra.quest_reward.receive_item.name\",\"with\":[{\"text\":\"Burning Staff\"}]}",
          "rewardType": "mknpc:quest_reward.mk_loot"
        },
        {
          "attributes": {
            "xp": 25
          },
          "rewardType": "mknpc:quest_reward.xp"
        }
      ]
    },
    {
      "autoComplete": true,
      "description": "{\"text\":\"Land Killing Blows with the Fireball Ability granted by the Initiate's Staff\"}",
      "objectives": [
        {
          "attributes": {
            "ability": "mkultra:ability.fireball",
            "count": 10,
            "objectiveName": "test_staff"
          },
          "description": [
            "{\"text\":\"Placeholder\"}"
          ],
          "objectiveType": "mknpc:objective.kill_w_ability"
        }
      ],
      "questName": "test_staff",
      "rewards": [
        {
          "attributes": {
            "xp": 25
          },
          "rewardType": "mknpc:quest_reward.xp"
        }
      ]
    },
    {
      "autoComplete": true,
      "description": "{\"text\":\"Return to the Initiate\"}",
      "objectives": [
        {
          "attributes": {
            "npcDefinition": "mkultra:nether_mage_initiate",
            "objectiveName": "test_complete",
            "structure": "mkultra:intro_castle",
            "structureIndex": 0
          },
          "description": [
            "{\"text\":\"Talk to the Initiate\"}"
          ],
          "dialogue": {
            "hailPrompt": "hail",
            "nodes": [
              {
                "effects": [
                  {
                    "type": "mknpc:objective_completion",
                    "objectiveName": "test_complete",
                    "questName": "test_complete"
                  }
                ],
                "id": "test_complete_hail",
                "message": "Looks like the staff is in working order. You know you weren't half bad at this, you should consider joining {prompt:nether_mage_guild}. In the meantime, I can {prompt:open_training} a few spells. "
              }
            ],
            "prompts": [
              {
                "id": "nether_mage_guild",
                "message": "the Guild",
                "suggestedText": "What guild?",
                "triggerPhrase": "guild"
              },
              {
                "id": "open_training",
                "message": "teach you",
                "suggestedText": "Will you teach me?",
                "triggerPhrase": "teach me"
              },
              {
                "id": "hail",
                "message": "",
                "responses": [
                  {
                    "responseNodeId": "test_complete_hail"
                  }
                ],
                "suggestedText": "",
                "triggerPhrase": ""
              }
            ]
          },
          "objectiveType": "mknpc:objective.talk_to_npc"
        }
      ],
      "questName": "test_complete",
      "rewards": [
        {
          "attributes": {
            "entitlement": "mkultra:nether_mage.intro.tier_1"
          },
          "rewardType": "mknpc:quest_reward.entitlement"
        },
        {
          "attributes": {
            "xp": 50
          },
          "rewardType": "mknpc:quest_reward.xp"
        }
      ]
    }
  ],
  "repeatable": false,
  "requirements": []
}